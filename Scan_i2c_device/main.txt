DÆ°á»›i Ä‘Ã¢y lÃ  **hÆ°á»›ng dáº«n chi tiáº¿t cÃ¡ch scan thiáº¿t bá»‹ I2C** trÃªn STM32 sá»­ dá»¥ng **HAL** vÃ  **STM32CubeIDE**, Ã¡p dá»¥ng Ä‘Æ°á»£c cho STM32F103C8T6 (Blue Pill) hoáº·c cÃ¡c dÃ²ng khÃ¡c:

---

## ğŸ” **Má»¥c Ä‘Ã­ch:**
Scan toÃ n bá»™ Ä‘á»‹a chá»‰ I2C tá»« `0x03` Ä‘áº¿n `0x77` Ä‘á»ƒ kiá»ƒm tra xem thiáº¿t bá»‹ I2C (vÃ­ dá»¥: LCD dÃ¹ng module PCF8574T) cÃ³ Ä‘ang káº¿t ná»‘i hay khÃ´ng vÃ  cÃ³ Ä‘á»‹a chá»‰ bao nhiÃªu.

---

## ğŸ› ï¸ **BÆ°á»›c 1: Chuáº©n bá»‹**
1. Äáº£m báº£o báº¡n Ä‘Ã£:
   - Cáº¥u hÃ¬nh I2C (vÃ­ dá»¥: **I2C1**, SDA: PB7, SCL: PB6).
   - Khá»Ÿi táº¡o `hi2c1` tá»« CubeMX.
   - Khá»Ÿi táº¡o UART Ä‘á»ƒ in thÃ´ng tin ra serial (vÃ­ dá»¥: USART1 Ä‘á»ƒ in ra terminal).

---

## ğŸ§¾ **BÆ°á»›c 2: Code hÃ m I2C Scanner**

### ğŸ“ Trong `main.c`:
ThÃªm Ä‘oáº¡n sau **trong pháº§n `main()` sau khi khá»Ÿi táº¡o I2C vÃ  UART**:

```c

for (uint8_t i = 1; i < 128; i++) {
    if (HAL_I2C_IsDeviceReady(&hi2c1, (uint16_t)(i << 1), 3, 5) == HAL_OK) {
        char msg[64];
        sprintf(msg, "Found device at 0x%02X\r\n", i);
        HAL_UART_Transmit(&huart1, (uint8_t*)msg, strlen(msg), HAL_MAX_DELAY);
    }
}
```

---

### ğŸ§© Giáº£i thÃ­ch:
- `i << 1`: VÃ¬ Ä‘á»‹a chá»‰ I2C trong HAL pháº£i dá»‹ch trÃ¡i 1 bit (bit LSB lÃ  bit R/W).
- `HAL_I2C_IsDeviceReady(...)`: Kiá»ƒm tra xem thiáº¿t bá»‹ cÃ³ tráº£ lá»i á»Ÿ Ä‘á»‹a chá»‰ Ä‘Ã³ khÃ´ng.
- `HAL_UART_Transmit(...)`: Gá»­i káº¿t quáº£ qua UART ra terminal/serial monitor.

---

## ğŸ–¥ï¸ **BÆ°á»›c 3: Káº¿t ná»‘i vÃ  kiá»ƒm tra**
- Má»Ÿ terminal (Serial Monitor) nhÆ° Tera Term / PuTTY / Arduino Serial Monitor.
- Chá»n Ä‘Ãºng cá»•ng COM, baudrate (vÃ­ dá»¥: 115200).
- Náº¡p chÆ°Æ¡ng trÃ¬nh vÃ  khá»Ÿi Ä‘á»™ng STM32.

---

## âœ… **Káº¿t quáº£:**
Báº¡n sáº½ tháº¥y dÃ²ng nhÆ°:
```
Found device at 0x27
```

NghÄ©a lÃ  thiáº¿t bá»‹ cá»§a báº¡n (nhÆ° LCD I2C dÃ¹ng PCF8574) Ä‘ang á»Ÿ Ä‘á»‹a chá»‰ `0x27`.

---